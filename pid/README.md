An implementation that fits our needs. 

It supports two directions control, movement mode selection, and multi-motor control. 

However, the idea of PID is just not working. The motor always ended up oscillating. 

Documentation is lacking, and probably won't be there unless I found PID useful again. Refer to sample code for how to use this code. 